openapi: 3.0.3
info:
  title: 1С:Медицина. Стоматологическая клиника, ред. 2.1
  version: 1.0.0
  description: Документация API для 1С:Медицина. Стоматологическая клиника, ред. 2.1
servers:
  - url: http://cloud.stoma1c.ru/api/
paths:
  /hs/api/v1/auth_types/{clinic_id}/:
    get:
      responses:
        '200':
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                type: object
                properties:
                  parameters:
                    type: array
                    items: {}
                  errors:
                    type: object
                    properties:
                      code:
                        type: number
                      message:
                        type: string
                required:
                  - parameters
                  - errors
              example:
                parameters:
                  - type: whats_app
                    title: WhatsApp
                errors:
                  code: 0
                  message: Описание ошибки
      summary: Получить доступные варианты авторизации
      operationId: Получить доступные варианты авторизации
      description: ''
      tags:
        - Авторизация
      parameters:
        - name: clinic_id
          in: path
          description: ID клиники
          required: true
          example: 6d3f2e84-29a7-11ed-a261-0242ac120002
          schema:
            type: string
        - name: apikey
          in: header
          description: e.g. 409265d1-a0af-4ce8-88ec-7e3435024111
          required: false
          schema:
            type: string
          example: 409265d1-a0af-4ce8-88ec-7e3435024111
  /hs/api/v1/auth/{clinic_id}/:
    post:
      responses:
        '200':
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                oneOf:
                  - type: object
                    properties:
                      Request_id:
                        type: string
                      Parameters:
                        type: object
                        properties:
                          sent_SMS:
                            type: boolean
                      Error:
                        type: number
                      ErrorMessage:
                        type: string
                  - type: object
                    properties:
                      Parameters:
                        type: object
                        properties:
                          UserToken:
                            type: string
                      Errors:
                        type: object
                        properties:
                          code:
                            type: number
                          message:
                            nullable: true
              examples:
                example1:
                  value:
                    Request_id: 580392e6-ba49-4280-ac67-fcd6f2180121
                    Parameters:
                      sent_SMS: true
                    Error: 0
                    ErrorMessage: ''
                example2:
                  value:
                    Parameters:
                      UserToken: 9323751AAB5A5925142F352BBA7913B3
                    Errors:
                      code: 0
                      message: null
      summary: Авторизоваться
      operationId: Авторизоваться
      description: ''
      tags:
        - Авторизация
      parameters:
        - name: clinic_id
          in: path
          description: ID клиники
          required: true
          schema:
            type: string
        - name: apikey
          in: header
          description: e.g. 147556
          required: false
          schema:
            type: string
          example: '147556'
      requestBody:
        content:
          application/json:
            example:
              login: '77731315'
              confirmation_code: '9876'
              name: Иванов Иван
            schema:
              type: object
              required:
                - login
              properties:
                login:
                  type: string
                  description: >-
                    Номер телефона пациента. Номер телефона должен передаваться в
                    формате 79876543210
                confirmation_code:
                  type: string
                  description: Код подтверждения
                name:
                  type: string
                  description: Имя пациента
                last_name:
                  type: string
                  description: Фамилия пациента
                second_name:
                  type: string
                  description: Отчество пациента
                birthday:
                  type: string
                  description: 'Дата рождения в формате: "15.11.1995".'
                email:
                  type: string
                  description: Электронная почта пациента
                auth_type:
                  type: string
                  description: >-
                    Выбранный тип авторизации. По умолчанию тип авторизации -
                    sms
  /hs/api/v1/validity_usertoken/{clinic_id}/:
    post:
      responses:
        '200':
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                type: object
                properties:
                  Result:
                    type: boolean
              examples:
                example1:
                  value:
                    Result: true
                example2:
                  value:
                    Result: false
      summary: Валидность ключа пользователя
      operationId: Валидность ключа пользователя
      description: ''
      tags:
        - Авторизация
      parameters:
        - name: clinic_id
          in: path
          description: >-
            ID клиники. Можно передавать ID любой клиники. На авторизацию это не
            влияет
          required: true
          schema:
            type: string
        - name: apikey
          in: header
          description: e.g. e07e5bc4-2bf9-11ec-910f-2c4d546557dd
          required: false
          schema:
            type: string
          example: e07e5bc4-2bf9-11ec-910f-2c4d546557dd
        - name: usertoken
          in: header
          description: e.g. 5dff0370-ffd9-453c-b116-f09f405f0603
          required: false
          schema:
            type: string
          example: 5dff0370-ffd9-453c-b116-f09f405f0603
  /hs/api/v1/private_auth/{clinic_id}/:
    post:
      responses:
        '200':
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                type: object
                properties:
                  Parameters:
                    type: object
                    properties:
                      UserToken:
                        type: string
                  Errors:
                    type: object
                    properties:
                      code:
                        type: number
                      message:
                        nullable: true
              example:
                Parameters:
                  UserToken: 9323751AAB5A5925142F352BBA7913B3
                Errors:
                  code: 0
                  message: null
      summary: Авторизация с цифровой подписью
      operationId: Авторизация с цифровой подписью
      description: ''
      tags:
        - Авторизация
      parameters:
        - name: clinic_id
          in: path
          description: >-
            ID клиники. Можно передавать ID любой клиники. На авторизацию это не
            влияет
          required: true
          schema:
            type: string
        - name: apikey
          in: header
          description: e.g. e07e5bc4-2bf9-11ec-910f-2c4d546557dd
          required: false
          schema:
            type: string
          example: e07e5bc4-2bf9-11ec-910f-2c4d546557dd
      requestBody:
        content:
          application/json:
            example:
              name: Антон
              second_name: Андреевич
              phone: '077729462'
              sign: fa8ec54b5df3127309e391d65ad24115a3530771
            schema:
              type: object
              required:
                - sign
              properties:
                name:
                  type: string
                  description: Имя пациента
                second_name:
                  type: string
                  description: Отчество пациента
                last_name:
                  type: string
                  description: Фамилия пациента
                phone:
                  type: string
                  description: Телефон пациента
                email:
                  type: string
                  description: Email пациента
                sex:
                  type: string
                  description: Пол пациента
                birthday:
                  type: string
                  description: Дата рождения в формате "31.12.1990"
                sign:
                  type: string
                  description: Цифровая подпись
  /hs/api/v1/book_services/{clinic_id}/:
    get:
      responses:
        '200':
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                type: object
                properties:
                  Parameters:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        title:
                          type: string
                        category:
                          type: object
                          properties:
                            id:
                              type: string
                            title:
                              type: string
                        price_min:
                          type: number
                        price_max:
                          type: number
                        comment:
                          type: string
                        active:
                          type: boolean
                        length:
                          type: number
                        ServicesAtSameTime:
                          type: array
                          items:
                            type: string
                        sort_index:
                          type: number
              example:
                Parameters:
                  - id: 140df5b4-5a58-11e7-82e7-0050568b5c8d
                    title: Мезотерапия
                    category:
                      id: 6ceedce5-666a-11e9-899f-2c4d546557dd
                      title: Косметология
                    price_min: 1100.5
                    price_max: 1100.5
                    comment: ''
                    active: true
                    length: 60
                    ServicesAtSameTime:
                      - e21cf6d4-5a57-11e7-82e7-0050568b5c8d
                      - d8329477-5a5a-11e7-82e7-0050568b5c8d
                      - 0c599e34-5b0d-11e7-82e7-0050568b5c8d
                      - 7a4b2cdc-5b0d-11e7-82e7-0050568b5c8d
                      - af41caf5-5b0d-11e7-82e7-0050568b5c8d
                      - bd9d179c-5b0d-11e7-82e7-0050568b5c8d
                    sort_index: 0
      summary: Получить список доступных для бронирования услуг
      operationId: Получить список доступных для бронирования услуг
      description: ''
      tags:
        - Запись на прием
      parameters:
        - name: clinic_id
          in: path
          description: ID клиники
          required: true
          schema:
            type: string
        - name: staff_id
          in: query
          description: ID врача
          schema:
            type: string
        - name: datetime
          in: query
          description: Дата (в формате iso8601)
          example: 20170820T0000
          schema:
            type: string
        - name: apikey
          in: header
          description: e.g. 147556
          required: false
          schema:
            type: string
          example: '147556'
  /hs/api/v1/book_staff/{clinic_id}/:
    get:
      responses:
        '200':
          description: OK
          headers: {}
          content: {}
      summary: Получить список доступных для записи сотрудников
      operationId: Получить список доступных для записи сотрудников
      description: ''
      tags:
        - Запись на прием
      parameters:
        - name: clinic_id
          in: path
          description: ID клиники
          required: true
          schema:
            type: string
        - name: service_id
          in: query
          description: ID услуги
          schema:
            type: string
        - name: service_ids
          in: query
          description: >
            Строка Json с массивом идентификаторов услуг, которые сотрудник
            должен оказать последовательно

            Пример такой строки:

            {"services_array":["140df5b4-5a58-11e7-82e7-0050568b5c8d","d8329477-5a5a-11e7-82e7-0050568b5c8d"]}

            Если по этому массиву не найдено сотрудников, то будет возвращена
            ошибка с кодом 1080
          schema:
            type: string
        - name: datetime
          in: query
          description: Дата в формате iso8601
          example: 20170820T0000
          schema:
            type: string
        - name: apikey
          in: header
          description: e.g. 147556
          required: false
          schema:
            type: string
          example: '147556'
  /hs/api/v1/book_dates/{clinic_id}/:
    get:
      responses:
        '200':
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                type: object
                properties:
                  Parameters:
                    type: array
                    items:
                      type: string
                  Errors:
                    type: object
                    properties:
                      code:
                        type: number
                      message:
                        nullable: true
              example:
                Parameters:
                  - '2017-08-20T00:00:00'
                  - '2017-08-21T00:00:00'
                  - '2017-08-22T00:00:00'
                  - '2017-08-23T00:00:00'
                  - '2017-08-24T00:00:00'
                  - '2017-08-25T00:00:00'
                  - '2017-08-30T00:00:00'
                  - '2017-08-31T00:00:00'
                Errors:
                  code: 0
                  message: null
      summary: Получить список доступных для записи дат
      operationId: Получить список доступных для записи дат
      description: ''
      tags:
        - Запись на прием
      parameters:
        - name: clinic_id
          in: path
          description: ID клиники
          required: true
          schema:
            type: string
        - name: start_date
          in: query
          description: >-
            Дата в формате iso8601. Начало периода. Автоматически берется начало
            дня
          required: true
          example: 20170820T0000
          schema:
            type: string
        - name: end_date
          in: query
          description: >-
            Дата в формате iso8601. Конец периода. Автоматически берется конец
            дня
          required: true
          example: 20170831T0000
          schema:
            type: string
        - name: service_id
          in: query
          description: ID услуги
          schema:
            type: string
        - name: staff_id
          in: query
          description: ID сотрудника
          schema:
            type: string
        - name: length
          in: query
          description: >-
            Требуемая длительность свободного окна сотрудника. Если передан этот
            параметр, то ID услуги учитываться не будет
          schema:
            type: number
        - name: service_ids
          in: query
          description: >
            Строка Json с массивом идентификаторов услуг, которые нужно оказать
            одновременно

            Пример такой строки:

            {"services_array":["140df5b4-5a58-11e7-82e7-0050568b5c8d","d8329477-5a5a-11e7-82e7-0050568b5c8d"]}
          schema:
            type: string
        - name: apikey
          in: header
          description: e.g. 147556
          required: false
          schema:
            type: string
          example: '147556'
  /hs/api/v1/book_times/{clinic_id}/:
    get:
      responses:
        '200':
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                type: object
                properties:
                  Parameters:
                    type: array
                    items:
                      type: object
                      properties:
                        time:
                          type: string
                        seance_length:
                          type: number
                        datetime:
                          type: string
                      required:
                        - time
                        - seance_length
                        - datetime
                  Errors:
                    type: object
                    properties:
                      code:
                        type: number
                      message:
                        nullable: true
              example:
                Parameters:
                  - time: '09:00'
                    seance_length: 30
                    datetime: '2017-08-24T09:00:00'
                  - time: '09:30'
                    seance_length: 30
                    datetime: '2017-08-24T09:30:00'
                  - time: '10:00'
                    seance_length: 30
                    datetime: '2017-08-24T10:00:00'
                  - time: '15:00'
                    seance_length: 30
                    datetime: '2017-08-24T15:00:00'
                  - time: '17:00'
                    seance_length: 30
                    datetime: '2017-08-24T17:00:00'
                  - time: '17:30'
                    seance_length: 30
                    datetime: '2017-08-24T17:30:00'
                Errors:
                  code: 0
                  message: null
      summary: Получить список слотов доступных для записи
      operationId: Получить список слотов доступных для записи
      description: ''
      tags:
        - Запись на прием
      parameters:
        - name: clinic_id
          in: path
          description: ID клиники
          required: true
          schema:
            type: string
        - name: service_id
          in: query
          description: ID услуги
          schema:
            type: string
        - name: staff_id
          in: query
          description: ID сотрудника
          schema:
            type: string
        - name: datetime
          in: query
          description: >-
            Дата в формате iso8601. Если параметр не заполнен, используется
            текущая дата сеанса
          example: 20170824T0900
          schema:
            type: string
        - name: length
          in: query
          description: >-
            Требуемая длительность свободного окна сотрудника. Если передан этот
            параметр, то ID услуги учитываться не будет
          schema:
            type: number
        - name: service_ids
          in: query
          description: >
            Строка Json с массивом идентификаторов услуг, которые нужно оказать
            одновременно

            Пример такой строки:

            {"services_array":["140df5b4-5a58-11e7-82e7-0050568b5c8d","d8329477-5a5a-11e7-82e7-0050568b5c8d"]}
          schema:
            type: string
        - name: apikey
          in: header
          description: e.g. 147556
          required: false
          schema:
            type: string
          example: '147556'
  /hs/api/v1/record_marks/{clinic_id}:
    get:
      responses:
        '200':
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                type: object
                properties:
                  Parameters:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        title:
                          type: string
                        color:
                          type: string
                      required:
                        - id
                        - title
                        - color
                  Errors:
                    type: object
                    properties:
                      code:
                        type: number
                      message:
                        type: string
              example:
                Parameters:
                  - id: 1561a273-bbc7-11e8-894d-4a2e5c85a0a3
                    title: Острая боль
                    color: '#FF0000'
                  - id: 1561a274-bbc7-11e8-894d-4a2e5c85a0a3
                    title: Первичный прием
                    color: '#FFD700'
                  - id: 1561a275-bbc7-11e8-894d-4a2e5c85a0a3
                    title: Повторный прием
                    color: '#FFC0CB'
                Errors:
                  code: 0
                  message: ''
      summary: Метки предварительной записи
      operationId: Метки предварительной записи
      description: ''
      tags:
        - Запись на прием
      parameters:
        - name: clinic_id
          in: path
          description: ID клиники
          required: true
          schema:
            type: string
        - name: apikey
          in: header
          description: e.g. 85fb1d22-ecd3-4cd1-8d30-007050821060
          required: false
          schema:
            type: string
          example: 85fb1d22-ecd3-4cd1-8d30-007050821060
  /hs/api/v1/recording_dates/{clinic_id}/:
    get:
      responses:
        '200':
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                type: object
                properties:
                  Parameters:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        date:
                          type: array
                          items:
                            type: string
                      required:
                        - id
                        - date
                  Errors:
                    type: object
                    properties:
                      code:
                        type: number
                      message:
                        type: string
              example:
                Parameters:
                  - id: ef0fd170-3c83-465d-836b-51d72d208831
                    date:
                      - 06.08.2024 11:00:00
                      - 06.08.2024 11:30:00
                      - 06.08.2024 12:00:00
                      - 06.08.2024 12:30:00
                  - id: d39e5d29-740d-44a1-8c0d-9c873a43805c
                    date:
                      - 06.08.2024 14:00:00
                      - 06.08.2024 14:30:00
                      - 06.08.2024 15:00:00
                      - 06.08.2024 15:30:00
                Errors:
                  code: 0
                  message: ''
      summary: Даты записи
      operationId: Даты записи
      description: ''
      tags:
        - Запись на прием
      parameters:
        - name: clinic_id
          in: path
          description: ID клиники
          required: true
          example: 0d190fc8-1c01-11ef-b1bf-f02f7488d897
          schema:
            type: string
        - name: start_date
          in: query
          description: Время начала отбора
          required: true
          example: 20240805T0000
          schema:
            type: string
        - name: end_date
          in: query
          description: Время окончания отбора
          required: true
          example: 20240905T0000
          schema:
            type: string
        - name: service_id
          in: query
          description: ID услуги для отбора
          example: 3c0fd170-3c83-465d-836b-51d72d208831
          schema:
            type: string
        - name: staff_id
          in: query
          description: ID сотрудника для отбора
          example: ef0fd170-3c83-465d-836b-51d72d208831
          schema:
            type: string
        - name: apikey
          in: header
          description: e.g. ec02e377-fb52-4807-a625-39627d38f51b
          required: false
          schema:
            type: string
          example: ec02e377-fb52-4807-a625-39627d38f51b
  /hs/api/v1/record_cost/{clinic_id}/:
    get:
      responses:
        '200':
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                type: object
                properties:
                  Parameters:
                    type: object
                    properties:
                      cart:
                        type: array
                        items:
                          type: object
                          properties:
                            purchase:
                              type: object
                              properties:
                                id:
                                  type: string
                                title:
                                  type: string
                                type:
                                  type: string
                                description:
                                  type: string
                            count:
                              type: number
                            balance:
                              type: number
                            balance_warning:
                              type: string
                            price_type:
                              type: object
                              properties:
                                id:
                                  type: string
                                title:
                                  type: string
                            price:
                              type: number
                            nds:
                              type: number
                            nds_sum:
                              type: number
                            price_with_discount:
                              type: number
                            discount_sum:
                              type: number
                            payment_amount:
                              type: number
                      total_amount:
                        type: number
                      total_discount:
                        type: number
                      may_be_payment:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                            title:
                              type: string
                            type:
                              type: string
                            payment_amount:
                              type: number
                      promotions:
                        type: array
                        items:
                          type: object
                          properties:
                            type:
                              type: string
                            title:
                              type: string
                            amount:
                              type: number
                  Errors:
                    type: object
                    properties:
                      code:
                        type: number
                      message:
                        type: string
              example:
                Parameters:
                  cart:
                    - purchase:
                        id: 9ca0fa6c-48ee-11ea-96bc-38d547b31ac0
                        title: Услуга 90 мин
                        type: service
                        description: Описание услуги
                      count: 1
                      balance: 0
                      balance_warning: ''
                      price_type:
                        id: bb266307-3e83-11ea-96b8-38d547b31ac0
                        title: Розничная цена
                      price: 100
                      nds: 1
                      nds_sum: 0
                      price_with_discount: 50
                      discount_sum: 50
                      payment_amount: 50
                  total_amount: 50
                  total_discount: 50
                  may_be_payment:
                    - id: b9c4c5de-6691-11ef-b1c6-001a7dda7115
                      title: Основной
                      type: deposit
                      payment_amount: 50
                  promotions:
                    - type: discount
                      title: 50% промокод Test
                      amount: 50
                Errors:
                  code: 0
                  message: ''
      summary: Расчет стоимости записи
      operationId: Расчет стоимости записи
      description: ''
      tags:
        - Запись на прием
      parameters:
        - name: clinic_id
          in: path
          description: ID клиники
          required: true
          example: b9c4c5de-6691-11ef-b1c6-001a7dda7115
          schema:
            type: string
        - name: record_array
          in: query
          description: >-
            Строка Json с массивом структур, содержащих параметры:


            <ul>
                <li> "datetime" - время записи: "20240831T1500"</li>
                <li> "service_id" - ID номенклатуры</li>
                <li> "staff_id" - ID сотрудника</li>
            </ul>


            <br>Пример такой строки:

            [{"datetime": "20240831T1500","service_id":
            "9ca0fa6c-48ee-11ea-96bc-38d547b31ac0","staff_id":
            "663290db-105c-41cc-97d4-ed5151065813"}]
          required: true
          schema:
            type: string
        - name: apikey
          in: header
          description: e.g. 0d44270f-e77f-4e45-a9ad-b4612412a48d
          required: false
          schema:
            type: string
          example: 0d44270f-e77f-4e45-a9ad-b4612412a48d
        - name: usertoken
          in: header
          description: e.g. 256D323401901DB2BD42405FA54509B0
          required: false
          schema:
            type: string
          example: 256D323401901DB2BD42405FA54509B0
  /hs/api/v1/book_record/{clinic_id}/:
    post:
      responses:
        '200':
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                type: object
                properties:
                  Parameters:
                    type: object
                    properties:
                      Result:
                        type: boolean
                  Errors:
                    nullable: true
              example:
                Parameters:
                  Result: true
                Errors: null
      summary: Запись на прием
      operationId: Запись на прием
      description: ''
      tags:
        - Запись на прием
      parameters:
        - name: clinic_id
          in: path
          description: ID клиники
          required: true
          schema:
            type: string
        - name: apikey
          in: header
          description: e.g. 147556
          required: false
          schema:
            type: string
          example: '147556'
        - name: usertoken
          in: header
          description: e.g. 256D323401901DB2BD42405FA54509B0
          required: false
          schema:
            type: string
          example: 256D323401901DB2BD42405FA54509B0
      requestBody:
        content:
          application/json:
            example:
              Parameters:
                Result: true
                record_id: d4608b12-5a07-11e9-899e-2c4d546557dd
                status: TemporarilyReservedNeedPayment
                sum: 2300
                may_be_payment:
                  - id: 83b95983-4813-11ea-89af-2c4d546557dd
                    title: Основной лицевой счет
                    type: deposit
                    payment_amount: 1300
                marks:
                  - d6fcccbc-6f89-4aa7-bf3a-6abded5dad28
                  - d9de866e-785c-11e8-b6dc-4a2e5c85a0a3
              Errors:
                code: 0
                message: ''
            schema:
              type: object
              properties:
                record_array:
                  $ref: '#/components/schemas/Record'
                  description: >-
                    Массив записей. Является обязательным, если не передан
                    ID приема
                fullname:
                  type: string
                  description: >-
                    Фамилия, имя, отчество пациента, разделенные пробелами. Если
                    передан данный параметр, то игнорируются параметры name,
                    last_name и second_name
                name:
                  type: string
                  description: Имя пациента
                last_name:
                  type: string
                  description: Фамилия пациента
                second_name:
                  type: string
                  description: Отчество пациента
                birthday:
                  type: string
                  description: 'Дата рождения в формате: "15.11.1995".'
                email:
                  type: string
                  description: Адрес электронной почты пациента
                notify_by_sms:
                  type: number
                  description: Время до напоминания о записи в часах
                comment:
                  type: string
                  description: Комментарий к приему
                commercial:
                  type: string
                  description: Рекламный источник
                record_id:
                  type: string
                  description: >-
                    ID приема. Если передан, то остальные параметры
                    передавать не нужно
                marks:
                  type: string
                  description: Массив с идентификаторами меток
  /hs/api/v1/change_record/{clinic_id}/:
    put:
      responses:
        '200':
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                type: object
                properties:
                  Parameters:
                    type: object
                    properties:
                      Result:
                        type: boolean
                  Errors:
                    nullable: true
              example:
                Parameters:
                  Result: true
                Errors: null
      summary: Перенести визит
      operationId: Перенести визит
      description: ''
      tags:
        - Запись на прием
      parameters:
        - name: clinic_id
          in: path
          description: ID клиники
          required: true
          schema:
            type: string
        - name: datetime
          in: query
          description: Дата в формате iso8601. Новая дата и время записи
          required: true
          example: 20170820T1030
          schema:
            type: string
        - name: record_id
          in: query
          description: ID записи
          required: true
          schema:
            type: string
        - name: apikey
          in: header
          description: e.g. 147556
          required: false
          schema:
            type: string
          example: '147556'
        - name: usertoken
          in: header
          description: e.g. 256D323401901DB2BD42405FA54509B0
          required: false
          schema:
            type: string
          example: 256D323401901DB2BD42405FA54509B0
  /hs/api/v1/cancel_record/{clinic_id}/:
    delete:
      responses:
        '200':
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                type: object
                properties:
                  Parameters:
                    type: object
                    properties:
                      Result:
                        type: boolean
                  Errors:
                    type: object
                    properties:
                      code:
                        type: number
                      message:
                        nullable: true
              example:
                Parameters:
                  Result: true
                Errors:
                  code: 0
                  message: null
      summary: Запись на прием
      operationId: Запись на прием
      description: ''
      tags:
        - Запись на прием
      parameters:
        - name: clinic_id
          in: path
          description: ID клиники
          required: true
          schema:
            type: string
        - name: record_id
          in: query
          description: ID записи пациента
          required: true
          example: ef0fd170-3c83-465d-836b-51d72d208831
          schema:
            type: string
        - name: apikey
          in: header
          description: e.g. 147556
          required: false
          schema:
            type: string
          example: '147556'
        - name: usertoken
          in: header
          description: e.g. 256D323401901DB2BD42405FA54509B0
          required: false
          schema:
            type: string
          example: 256D323401901DB2BD42405FA54509B0
  /hs/api/v1/client/{clinic_id}/:
    get:
      responses:
        '200':
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                type: object
                properties:
                  Parameters:
                    type: object
                    properties:
                      full_name:
                        type: string
                      name:
                        type: string
                      second_name:
                        type: string
                      last_name:
                        type: string
                      birthday:
                        type: string
                      sex:
                        nullable: true
                      email:
                        type: array
                        items:
                          type: string
                  Errors:
                    type: object
                    properties:
                      code:
                        type: number
                      message:
                        nullable: true
              example:
                Parameters:
                  full_name: Коренина Анна
                  name: Анна
                  second_name: ''
                  last_name: Коренина
                  birthday: 15.11.1995
                  sex: null
                  email:
                    - Anna172@mail.ru
                    - AnnaKorenina@mail.ru
                Errors:
                  code: 0
                  message: null
      summary: Получить информацию о пациенте
      operationId: Получить информацию о пациенте
      description: ''
      tags:
        - Пациенты
      parameters:
        - name: clinic_id
          in: path
          description: ID клиники
          required: true
          schema:
            type: string
        - name: apikey
          in: header
          description: e.g. 147556
          required: false
          schema:
            type: string
          example: '147556'
        - name: usertoken
          in: header
          description: e.g. 256D323401901DB2BD42405FA54509B0
          required: false
          schema:
            type: string
          example: 256D323401901DB2BD42405FA54509B0
    post:
      responses:
        '201':
          description: Created
          headers: {}
          content:
            application/json:
              schema:
                type: object
                properties:
                  Parameters:
                    type: object
                    properties:
                      id:
                        type: string
                      clinic_id:
                        type: string
                      name:
                        type: string
                      surname:
                        type: string
                      patronymic:
                        type: string
                      birth_date:
                        type: string
                        nullable: true
                      phone:
                        type: string
                      email:
                        type: string
                        nullable: true
                      sold_amount:
                        type: number
                      visits_count:
                        type: number
                  Errors:
                    type: object
                    properties:
                      code:
                        type: number
                      message:
                        type: string
                required:
                  - Parameters
                  - Errors
              example:
                Parameters:
                  id: 47efc7f111104513a25b302e6712df59
                  clinic_id: 0d190fc81c0111efb1bff02f7488d897'
                  name: Иван
                  surname: Петров
                  patronymic: Васильевич
                  birth_date: 07.10.1987
                  phone: '77777777777'
                  email: client21321@mail.ru
                  sold_amount: 0
                  visits_count: 5
                Errors:
                  code: 0
                  message: Описание ошибки
        '400':
          description: Bad Request
          headers: {}
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: number
                    description: Пример кода ошибки при неверных данных или заголовках
                  message:
                    type: string
              example:
                code: 1001
                message: Неверный формат данных или отсутствует apikey
      summary: Создание пациента
      operationId: Создание пациента
      description: ''
      tags:
        - Пациенты
      parameters:
        - name: apikey
          in: header
          description: e.g. 409265d1-a0af-4ce8-88ec-7e3435024111
          required: false
          schema:
            type: string
          example: 409265d1-a0af-4ce8-88ec-7e3435024111
      requestBody:
        content:
          application/json:
            example:
              name: Василий
              surname: Соновен
              patronymic: Васильевич
              phone: 79211234567
              email: 123456789@gmail.com
              sex: 1
              birth_date: '2011'
              clinic_id: ''
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: Имя пациента
                surname:
                  type: string
                  description: Фамилия пациента
                patronymic:
                  type: string
                  description: Отчество пациента
                phone:
                  type: number
                  description: Номер телефона (только цифры)
                email:
                  type: string
                  description: Email пациента
                sex:
                  type: number
                  description: Пол (0 — не указан, 1 — мужчина, 2 — женщина)
                birth_date:
                  type: string
                  description: >-
                    01-01 (string, optional) - Дата рождения в формате
                    `YYYY-MM-DD`
                clinic_id:
                  type: string
                  description: ID клиники
              required:
                - phone
                - clinic_id
    put:
      responses:
        '201':
          description: Created
          headers: {}
          content:
            application/json:
              schema:
                type: object
                properties:
                  Parameters:
                    type: object
                    properties:
                      id:
                        type: string
                      clinic_id:
                        type: string
                      name:
                        type: string
                      surname:
                        type: string
                      patronymic:
                        type: string
                      birth_date:
                        type: string
                        nullable: true
                      phone:
                        type: string
                      email:
                        type: string
                        nullable: true
                      sold_amount:
                        type: number
                      visits_count:
                        type: number
                  Errors:
                    type: object
                    properties:
                      code:
                        type: number
                      message:
                        type: string
                required:
                  - Parameters
                  - Errors
              example:
                Parameters:
                  id: 47efc7f111104513a25b302e6712df59
                  clinic_id: 0d190fc81c0111efb1bff02f7488d897'
                  name: Иван
                  surname: Петров
                  patronymic: Васильевич
                  birth_date: 07.10.1987
                  phone: '77777777777'
                  email: client21321@mail.ru
                  sold_amount: 0
                  visits_count: 5
                Errors:
                  code: 0
                  message: Описание ошибки
        '400':
          description: Bad Request
          headers: {}
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: number
                    description: Пример кода ошибки при неверных данных или заголовках
                  message:
                    type: string
              example:
                code: 1001
                message: Неверный формат данных или отсутствует apikey
      summary: Изменение пациента
      operationId: Изменение пациента
      description: ''
      tags:
        - Пациенты
      parameters:
        - name: apikey
          in: header
          description: e.g. 409265d1-a0af-4ce8-88ec-7e3435024111
          required: false
          schema:
            type: string
          example: 409265d1-a0af-4ce8-88ec-7e3435024111
      requestBody:
        content:
          application/json:
            example:
              name: Василий
              surname: Соновен
              patronymic: Васильевич
              phone: 79211234567
              email: 123456789@gmail.com
              sex: 1
              birth_date: '2011'
              clinic_id: ''
              id: 0d190fc8-1c01-11ef-b1bf-f02f7488d897
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: Имя пациента
                surname:
                  type: string
                  description: Фамилия пациента
                patronymic:
                  type: string
                  description: Отчество пациента
                phone:
                  type: number
                  description: Номер телефона (только цифры)
                email:
                  type: string
                  description: Email пациента
                sex:
                  type: number
                  description: Пол (0 — не указан, 1 — мужчина, 2 — женщина)
                birth_date:
                  type: string
                  description: >-
                    01-01 (string, optional) - Дата рождения в формате
                    `YYYY-MM-DD`
                clinic_id:
                  type: string
                  description: ID клиники
                id:
                  type: string
                  description: ID пациента
              required:
                - phone
                - clinic_id
                - id
  /hs/api/v1/clients/{clinic_id}/:
    post:
      responses:
        '200':
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                type: object
                properties:
                  Parameters:
                    type: array
                    items: {}
                  Errors:
                    type: object
                    properties:
                      code:
                        type: number
                      message:
                        type: string
                  Meta:
                    type: object
                    properties:
                      items_count:
                        type: number
                        description: Общее количество найденных записей
                      pages_count:
                        type: number
                        description: Общее количество страниц
                      page_current:
                        type: number
                        description: Текущая страница
                      page_size:
                        type: number
                        description: Размер страницы
                required:
                  - Parameters
                  - Errors
                  - Meta
              example:
                Parameters:
                  - id: 47efc7f111104513a25b302e6712df59
                    clinic_id: 0d190fc81c0111efb1bff02f7488d897'
                    name: Иван
                    surname: Петров
                    patronymic: Васильевич
                    birth_date: 07.10.1987
                    phone: '77777777777'
                    email: client21321@mail.ru
                    sold_amount: 0
                    visits_count: 5
                Errors:
                  code: 0
                  message: Описание ошибки
                Meta:
                  items_count: 10
                  pages_count: 2
                  page_current: 1
                  page_size: 5
        '400':
          description: Bad Request
          headers: {}
          content:
            application/json:
              schema:
                type: object
                properties:
                  Errors:
                    type: object
                    properties:
                      code:
                        type: number
                      message:
                        type: string
                required:
                  - Errors
              example:
                Errors:
                  code: 0
                  message: Описание ошибки
      summary: Информация о пациентах
      operationId: Информация о пациентах
      description: ''
      tags:
        - Пациенты
      parameters:
        - name: apikey
          in: header
          description: e.g. YOUR_API_KEY
          required: false
          schema:
            type: string
          example: YOUR_API_KEY
        - name: usertoken
          in: header
          description: e.g. YOUR_USER_TOKEN
          required: false
          schema:
            type: string
          example: YOUR_USER_TOKEN
      requestBody:
        content:
          application/json:
            example:
              clinic_id: ''
              page: 1
              count: 30
              order_by: name
              order_by_direction: DESC
              fields:
                - id
                - clinic_id
                - name
                - surname
                - patronymic
                - birth_date
                - phone
                - email
                - sold_amount
                - visits_count
              filters:
                - type: id
                  value:
                    - '[''47efc7f111104513a25b302e6712df59'''
                    - '''04d419c74d6d11efb1c4f02f7488d897'']'
            schema:
              type: object
              properties:
                clinic_id:
                  type: string
                  description: ID клиники
                page:
                  type: number
                  description: 'Номер страницы (по умолчанию: 1)'
                count:
                  type: number
                  description: 'Количество записей на странице (по умолчанию: 20)'
                order_by:
                  type: string
                  description: 'Поле для сортировки (например: `name`, ''surname'')'
                order_by_direction:
                  type: string
                  enum:
                    - DESC
                  description: 'Направление сортировки: `ASC` или `DESC`'
                fields:
                  type: array
                  description: Список возвращаемых полей пациента
                  items: {}
                filters:
                  type: array
                  description: Массив фильтров по различным типам данных пациента
                  items: {}
              required:
                - clinic_id
  /hs/api/v1/clinics/{clinic_id}/:
    get:
      responses:
        '200':
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                type: object
                properties:
                  Parameters:
                    type: array
                    items: {}
                  Errors:
                    type: object
                    properties:
                      code:
                        type: number
                      message:
                        type: string
                required:
                  - Parameters
                  - Errors
              example:
                Parameters:
                  - id: 0d190fc8
                    title: OOO "Стоматология"
                    work_time:
                      - active: true
                        day: 1
                        start: '07:00'
                        end: '22:00'
                    contact_information:
                      phone: '78945612233'
                      email: test_clinic@mail.ru
                      address: г.Москва
                      website: www.website.ru
                Errors:
                  code: 0
                  message: Описание ошибки
      summary: Получить список клиник
      operationId: Получить список клиник
      description: ''
      tags:
        - Клиники
      parameters:
        - name: apikey
          in: header
          description: e.g. 409265d1-a0af-4ce8-88ec-7e3435024111
          required: false
          schema:
            type: string
          example: 409265d1-a0af-4ce8-88ec-7e3435024111
  /hs/api/v1/records/{clinic_id}/:
    get:
      responses:
        '200':
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                type: object
                properties:
                  Parameters:
                    type: array
                    items: {}
                  Errors:
                    type: object
                    properties:
                      code:
                        type: number
                      message:
                        type: string
                  Meta:
                    type: object
                    properties:
                      items_count:
                        type: number
                        description: Общее количество найденных записей
                      pages_count:
                        type: number
                        description: Общее количество страниц
                      page_current:
                        type: number
                        description: Текущая страница
                      page_size:
                        type: number
                        description: Размер страницы
                required:
                  - Parameters
                  - Errors
                  - Meta
              example:
                Parameters:
                  - id: 7c802c46
                    clinic_id: 0d190fc8
                    start_date: '2025'
                    end_date: '2025'
                    create_date: '2025'
                    client:
                      id: 401b3cea
                      name: Савелий
                      surname: Соновен
                      patronymic: Васильевич
                      display_name: Соновен Савелий Васильевич
                      phone: '79211234567'
                      email: 123456789@gmail.com
                    staff:
                      id: d39e5d29
                      name: Врач
                      specialization:
                        id: a19ee94d
                        title: Врач стоматолог
                      weight: 0
                      information: <img...>
                      avatar: 'null'
                    services:
                      - id: 6ad4c14f
                        title: Услуга 2
                        cost: 500
                        amount: 1
                        cost_per_unit: 500
                        first_cost: 500
                        discount: 0
                    comment: Комментарий
                    created_user:
                      id: 0d191059
                      title: Администратор
                    status: confirmed
                Errors:
                  code: 0
                  message: Описание ошибки
                Meta:
                  items_count: 10
                  pages_count: 2
                  page_current: 1
                  page_size: 5
      summary: Получить список записей
      operationId: Получить список записей
      description: ''
      tags:
        - Записи
      parameters:
        - name: clinic_id
          in: path
          description: ID клиники
          required: true
          schema:
            type: string
        - name: page
          in: query
          description: Номер страницы
          example: '1'
          schema:
            type: number
        - name: count
          in: query
          description: Количество записей на странице
          example: '20'
          schema:
            type: number
        - name: id
          in: query
          description: ID записи
          schema:
            type: string
        - name: client_id
          in: query
          description: ID пациента
          schema:
            type: string
        - name: apikey
          in: header
          description: e.g. 409265d1-a0af-4ce8-88ec-7e3435024111
          required: false
          schema:
            type: string
          example: 409265d1-a0af-4ce8-88ec-7e3435024111
        - name: usertoken
          in: header
          description: e.g. YOUR_USER_TOKEN
          required: false
          schema:
            type: string
          example: YOUR_USER_TOKEN
    put:
      responses:
        '200':
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                type: object
                properties:
                  Parameters:
                    type: array
                    items: {}
                  Errors:
                    type: object
                    properties:
                      code:
                        type: number
                      message:
                        type: string
                required:
                  - Parameters
                  - Errors
              example:
                Parameters:
                  - id: 7c802c46
                    clinic_id: 0d190fc8
                    start_date: '2025'
                    end_date: '2025'
                    create_date: '2025'
                    client:
                      id: 401b3cea
                      name: Савелий
                      surname: Соновен
                      patronymic: Васильевич
                      display_name: Соновен Савелий Васильевич
                      phone: '79211234567'
                      email: 123456789@gmail.com
                    staff:
                      id: d39e5d29
                      name: Врач
                      specialization:
                        id: a19ee94d
                        title: Врач стоматолог
                      weight: 0
                      information: <img...>
                      avatar: 'null'
                    services:
                      - id: 6ad4c14f
                        title: Услуга 2
                        cost: 500
                        amount: 1
                        cost_per_unit: 500
                        first_cost: 500
                        discount: 0
                    comment: Комментарий
                    created_user:
                      id: 0d191059
                      title: Администратор
                    status: confirmed
                Errors:
                  code: 0
                  message: Описание ошибки
      summary: Изменить запись
      operationId: Изменить запись
      description: ''
      tags:
        - Записи
      parameters:
        - name: apikey
          in: header
          description: e.g. 409265d1-a0af-4ce8-88ec-7e3435024111
          required: false
          schema:
            type: string
          example: 409265d1-a0af-4ce8-88ec-7e3435024111
        - name: usertoken
          in: header
          description: e.g. YOUR_USER_TOKEN
          required: false
          schema:
            type: string
          example: YOUR_USER_TOKEN
      requestBody:
        content:
          application/json:
            example:
              clinic_id: 0d190fc8-1c01-11ef-b1bf-f02f7488d897
              id: 0d190fc8-1c01-11ef-b1bf-f02f7488d897
              staff_id: 0d190fc8-1c01-11ef-b1bf-f02f7488d897
              duration: 15
            schema:
              type: object
              properties:
                clinic_id:
                  type: string
                  description: ID клиники
                id:
                  type: string
                  description: ID пациента
                datetime:
                  type: string
                  description: Новое время записи
                staff_id:
                  type: string
                  description: ID врача
                comment:
                  type: string
                  description: Комментарий записи
                status:
                  type: string
                  description: >-
                    Статус записи: "not_confirmed" - Прием не подтвержден,
                    "waiting" - Пациент ожидает, "confirmed" - Прием
                    подтвержден, "started" - Прием начат, "not_happen" - Прием
                    не состоялся, "ended" - Прием окончен ,"canceled" - Прием
                    отменен
                duration:
                  type: number
                  description: Новая длительность
              required:
                - clinic_id
                - id
  /hs/api/v1/services/{clinic_id}/:
    get:
      responses:
        '200':
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                type: object
                properties:
                  Parameters:
                    type: array
                    items: {}
                  Errors:
                    type: object
                    properties:
                      code:
                        type: number
                      message:
                        type: string
                  Meta:
                    type: object
                    properties:
                      items_count:
                        type: number
                        description: Общее количество найденных записей
                      pages_count:
                        type: number
                        description: Общее количество страниц
                      page_current:
                        type: number
                        description: Текущая страница
                      page_size:
                        type: number
                        description: Размер страницы
                required:
                  - Parameters
                  - Errors
                  - Meta
              example:
                Parameters:
                  - id: 6ad4c14f-1c03-11ef-b1bf-f02f7488d897
                    title: Услуга 2
                    price_min: 500
                    price_max: 500
                    weight: 0
                    category_id:
                      id: a19ee948-1c00-11ef-b1bf-f02f7488d897
                      title: Хирургия
                    comment: ''
                    seance_length: 60
                    active: true
                    staff:
                      - id: ef0fd170-3c83-465d-836b-51d72d208831
                        seance_length: 60
                Errors:
                  code: 0
                  message: Описание ошибки
                Meta:
                  items_count: 10
                  pages_count: 2
                  page_current: 1
                  page_size: 5
      summary: Получить список услуг
      operationId: Получить список услуг
      description: ''
      tags:
        - Записи
      parameters:
        - name: clinic_id
          in: path
          description: ID клиники
          required: true
          example: 0d190fc8-1c01-11ef-b1bf-f02f7488d897
          schema:
            type: string
        - name: service_id
          in: query
          description: Фильтрация по ID услуги
          schema:
            type: string
        - name: staff_id
          in: query
          description: Фильтрация по ID врача
          schema:
            type: string
        - name: category_id
          in: query
          description: Фильтрация по ID категории
          schema:
            type: string
        - name: page
          in: query
          description: Номер страницы
          example: '1'
          schema:
            type: number
        - name: count
          in: query
          description: Количество элементов на странице
          example: '20'
          schema:
            type: number
        - name: apikey
          in: header
          description: e.g. ec02e377-fb52-4807-a625-39627d38f51b
          required: false
          schema:
            type: string
          example: ec02e377-fb52-4807-a625-39627d38f51b
        - name: usertoken
          in: header
          description: e.g. C1DB8500345E8B9C25E98330D0B3266B
          required: false
          schema:
            type: string
          example: C1DB8500345E8B9C25E98330D0B3266B
components:
  schemas:
    AuthType:
      type: object
      properties:
        type:
          type: string
          enum:
            - sms
            - whats_app
            - email
        title:
          type: string
          example: WhatsApp
          description: Название варианта авторизации
    cart:
      type: object
      required:
        - purchase_id
        - count
      properties:
        purchase_id:
          type: string
          description: ID номенклатуры
        count:
          type: number
          description: Количество номенклатуры
        staff_id:
          type: string
          description: ID сотрудника
    Payment:
      type: object
      required:
        - cash
        - card
        - deposit
      properties:
        cash:
          type: number
          description: Сумма оплаты наличными
        card:
          type: number
          description: Сумма оплаты картой
        deposit:
          type: number
          description: Сумма оплаты лицевым счетом
    PaymentList:
      type: object
      required:
        - type
        - amount
      properties:
        type:
          type: string
          description: >-
            Тип оплаты ("cash" - оплата наличными, "card" - оплата картой,
            "deposit" - оплата с лицевого счета, "bonus" - оплата с бонусного
            счета)
        amount:
          type: number
          description: Сумма оплаты
        id:
          type: string
          description: >-
            ID лицевого счета (необходимо передавать только при
            оплате с лицевого/бонусного счета)
    Record:
      type: object
      required:
        - datetime
        - service_id
      properties:
        datetime:
          type: string
          description: Дата в формате iso8601. Дата и время занятия
        service_id:
          type: string
          description: ID услуги
        staff_id:
          type: string
          description: >-
            ID сотрудника. Если не передан, то в прием подставится
            любой свободный сотрудник, способный оказать услугу
    Filter:
      type: object
      required:
        - type
        - value
      properties:
        type:
          type: string
          example: id
          description: >-
            Тип фильтра (`id`, `name`, `surname`, `patronymic`, `phone`,
            `email`)
        value:
          type: array
          items: {}
          description: >-
            Значение для фильтрации. Может быть как строкой, так и массивом
            строк
    Client:
      type: object
      properties:
        id:
          type: string
          example: 47efc7f111104513a25b302e6712df59
        clinic_id:
          type: string
          example: 0d190fc81c0111efb1bff02f7488d897'
        name:
          type: string
          example: Иван
        surname:
          type: string
          example: Петров
        patronymic:
          type: string
          example: Васильевич
        birth_date:
          type: string
          example: 07.10.1987
          nullable: true
        phone:
          type: string
          example: '77777777777'
        email:
          type: string
          example: client21321@mail.ru
          nullable: true
        sold_amount:
          type: number
        visits_count:
          type: number
          example: 5
    Error:
      type: object
      properties:
        code:
          type: number
        message:
          type: string
          example: Описание ошибки
    ErrorBadRequest:
      type: object
      properties:
        code:
          type: number
          example: 1001
          description: Пример кода ошибки при неверных данных или заголовках
        message:
          type: string
          example: Неверный формат данных или отсутствует apikey
    Meta:
      type: object
      properties:
        items_count:
          type: number
          example: 10
          description: Общее количество найденных записей
        pages_count:
          type: number
          example: 2
          description: Общее количество страниц
        page_current:
          type: number
          example: 1
          description: Текущая страница
        page_size:
          type: number
          example: 5
          description: Размер страницы
    ClientCreate:
      type: object
      required:
        - phone
      properties:
        name:
          type: string
          example: Василий
          description: Имя пациента
        surname:
          type: string
          example: Соновен
          description: Фамилия пациента
        patronymic:
          type: string
          example: Васильевич
          description: Отчество пациента
        phone:
          type: number
          example: 79211234567
          description: Номер телефона (только цифры)
        email:
          type: string
          example: 123456789@gmail.com
          description: Email пациента
        sex:
          type: number
          example: 1
          description: Пол (0 — не указан, 1 — мужчина, 2 — женщина)
        birth_date:
          type: string
          example: '2011'
          description: 01-01 (string, optional) - Дата рождения в формате `YYYY-MM-DD`
    Clinic:
      type: object
      required:
        - work_time
      properties:
        id:
          type: string
          example: 0d190fc8
          description: >-
            1c01-11ef-b1bf-f02f7488d897 (string) - ID клиники
        title:
          type: string
          example: OOO "Стоматология"
          description: Название клиники
        work_time:
          type: array
          items: {}
          description: Расписание работы по дням недели
        contact_information:
          $ref: '#/components/schemas/ContactInformation'
          description: Контактная информация клиники
    WorkTime:
      type: object
      properties:
        active:
          type: boolean
          example: true
          description: Признак активности дня
        day:
          type: number
          example: 1
          description: День недели (1 = понедельник, 7 = воскресенье)
        start:
          type: string
          example: '07:00'
          description: Время начала работы (формат `HH:mm`)
        end:
          type: string
          example: '22:00'
          description: Время окончания работы (формат `HH:mm`)
    ContactInformation:
      type: object
      properties:
        phone:
          type: string
          example: '78945612233'
          description: Телефон клиники
        email:
          type: string
          example: test_clinic@mail.ru
          description: Email клиники
        address:
          type: string
          example: г.Москва
          description: Адрес клиники
        website:
          type: string
          example: www.website.ru
          description: Сайт клиники
    Records:
      type: object
      required:
        - client
        - staff
        - services
        - created_user
      properties:
        id:
          type: string
          example: 7c802c46
          description: a899-4da1-b87c-eb2d68254f0f (string) - Уникальный ID записи
        clinic_id:
          type: string
          example: 0d190fc8
          description: 1c01-11ef-b1bf-f02f7488d897 (string) - ID клиники
        start_date:
          type: string
          example: '2025'
          description: 06-30T12:00:00 (string) - Дата и время начала приёма (ISO 8601)
        end_date:
          type: string
          example: '2025'
          description: 06-30T12:15:00 (string) - Дата и время окончания приёма (ISO 8601)
        create_date:
          type: string
          example: '2025'
          description: 06-30T09:49:06 (string) - Дата создания записи (ISO 8601)
        client:
          $ref: '#/components/schemas/ClientInfo'
          description: Данные пациента
        staff:
          $ref: '#/components/schemas/StaffInfo'
          description: Данные сотрудника (врача)
        services:
          type: array
          items: {}
          description: Услуги, оказанные в рамках приёма
        comment:
          type: string
          example: Комментарий
          description: Комментарий к записи
        created_user:
          $ref: '#/components/schemas/UserInfo'
          description: Пользователь, создавший запись
        status:
          type: string
          example: confirmed
          description: >-
            Статус записи (`confirmed`, `not_confirmed`, `waiting`, `started`,
            `not_happen`, `ended`, `canceled`)
    ClientInfo:
      type: object
      properties:
        id:
          type: string
          example: 401b3cea
          description: 4d34-4234-b1c0-f5f96551c984 (string)
        name:
          type: string
          example: Савелий
        surname:
          type: string
          example: Соновен
        patronymic:
          type: string
          example: Васильевич
        display_name:
          type: string
          example: Соновен Савелий Васильевич
        phone:
          type: string
          example: '79211234567'
        email:
          type: string
          example: 123456789@gmail.com
    StaffInfo:
      type: object
      properties:
        id:
          type: string
          example: d39e5d29
          description: 740d-44a1-8c0d-9c873a43805c (string)
        name:
          type: string
          example: Врач
        specialization:
          $ref: '#/components/schemas/Specialization'
        weight:
          type: number
        information:
          type: string
          example: <img...>
          description: HTML-строка с эмоджи/описанием
        avatar:
          type: string
          example: 'null'
          description: Аватар врача
          nullable: true
    Specialization:
      type: object
      properties:
        id:
          type: string
          example: a19ee94d
          description: 1c00-11ef-b1bf-f02f7488d897 (string)
        title:
          type: string
          example: Врач стоматолог
    UserInfo:
      type: object
      properties:
        id:
          type: string
          example: 0d191059
          description: 1c01-11ef-b1bf-f02f7488d897 (string)
        title:
          type: string
          example: Администратор
    Service:
      type: object
      properties:
        id:
          type: string
          example: 6ad4c14f
          description: 1c03-11ef-b1bf-f02f7488d897 (string)
        title:
          type: string
          example: Услуга 2
        cost:
          type: number
          example: 500
          description: Общая стоимость услуги
        amount:
          type: number
          example: 1
          description: Количество оказанных единиц
        cost_per_unit:
          type: number
          example: 500
          description: Стоимость за единицу
        first_cost:
          type: number
          example: 500
          description: Начальная стоимость (до скидки)
        discount:
          type: number
          description: Скидка в процентах
    Services:
      type: object
      properties:
        id:
          type: string
          example: 6ad4c14f-1c03-11ef-b1bf-f02f7488d897
          description: ID услуги
        title:
          type: string
          example: Услуга 2
          description: Название услуги
        price_min:
          type: number
          example: 500
          description: Минимальная цена
        price_max:
          type: number
          example: 500
          description: Максимальная цена
        weight:
          type: number
          description: Вес/приоритет в сортировке
        category_id:
          oneOf:
            - $ref: '#/components/schemas/Category'
              description: Категория услуги
            - nullable: true
        comment:
          type: string
          description: Комментарий
        seance_length:
          type: number
          example: 60
          description: Продолжительность услуги в минутах
        active:
          type: boolean
          example: true
          description: Признак онлайн-записи услуги
        staff:
          type: array
          items:
            $ref: '#/components/schemas/ServiceStaff'
          description: Список врачей, выполняющих услугу
          nullable: true
    Category:
      type: object
      properties:
        id:
          type: string
          example: a19ee948-1c00-11ef-b1bf-f02f7488d897
        title:
          type: string
          example: Хирургия
    ServiceStaff:
      type: object
      properties:
        id:
          type: string
          example: ef0fd170-3c83-465d-836b-51d72d208831
          description: ID сотрудника
        seance_length:
          type: number
          example: 60
          description: Индивидуальная длительность приёма
tags:
  - name: Авторизация
  - name: Запись на прием
  - name: Пациенты
  - name: Клиники
  - name: Записи
  - name: Дополнительная информация
    description: |-
      ## Коды ошибок

      Могут возвращаться следующие коды ошибок:
      
      | Код   | Описание                                                                                   |
      | ----- | ------------------------------------------------------------------------------------------ |
      | 1000  | Ошибка работы с базой данных                                                               |
      | ....  |                                                                                            |
      | 1014  | Не указан эквайринговый терминал оплаты                                                    |
      | ....  |                                                                                            |
      | 1040  | Не найден метод                                                                            |
      | 1041  | Онлайн-запись недоступна                                                                   |
      | ....  |                                                                                            |
      | 1050  | Не найден сотрудник                                                                        |
      | 1051  | Не найдена услуга                                                                          |
      | 1052  | Не задан временной интервал                                                                |
      | 1053  | Для пациента установлен запрет онлайн-записи                                               |
      | 1054  | Неверный формат даты                                                                       |
      | 1055  | Не найдена клиника                                                                         |
      | 1056  | Не найдена предварительная запись                                                          |
      | 1057  | Не выбрана кассовая смена                                                                  |
      | 1058  | Не найдена кассовая смена                                                                  |
      | 1059  | Не задан номер чека                                                                        |
      | 1060  | Неверная структура массива оплат                                                           |
      | 1061  | Не указано время начала приема                                                             |
      | 1062  | Не указан ключ авторизации                                                                 |
      | 1063  | Неверный ключ авторизации                                                                  |
      | 1064  | Не указан логин                                                                            |
      | 1065  | Неверный код подтверждения                                                                 |
      | 1066  | Не указан ключ пациента                                                                    |
      | 1067  | Неверный ключ пациента                                                                     |
      | 1068  | Код подтверждения не действителен                                                          |
      | ....  |                                                                                            |
      | 1071  | Не задан массив записи                                                                     |
      | 1072  | Неверный параметр rating                                                                   |
      | ....  |                                                                                            |
      | 1080  | Не найдено сотрудников, способных оказать переданный массив услуг                          |
      | 1081  | Не указан ключ шифрования во внешней системе                                               |
      | 1082  | Неверная подпись                                                                           |
      | ....  |                                                                                            |
      | 1100  | Сотрудник не оказывает выбранную услугу                                                    |
      | 1101  | Сотрудник не может оказать услугу в выбранное время                                        |
      | 1102  | Сотрудник не работает в указанное время                                                    |
      | 1103  | Совпадает время услуг в переданном массиве                                                 |
      | ....  |                                                                                            |
      | 1106  | Нет сотрудников, способных оказать услугу                                                  |
      | ....  |                                                                                            |
      | 1110  | Не удалось отправить СМС-сообщение с кодом подтверждения                                   |
      | 1111  | Остатка на лицевом счете пациента недостаточно для оплаты                                  |
      | 1112  | Не удалось обновить информацию о пациенте                                                  |
      | 1113  | Запись недоступна для отмены                                                               |
      | 1114  | Массив переданных услуг нельзя оказывать одновременно                                      |
      | 1115  | Услуга недоступна для записи в выбранное время                                             |
      | 1116  | Параметр amount должен быть больше нуля                                                    |
      | 1117  | Не найдена группа онлайн-продажи                                                           |
      | 1118  | Строка поиска передана неверно                                                             |
      | 1119  | Строка поиска должна содержать хотя бы 3 символа                                           |
      | 1120  | Не удалось отправить сообщение в мессенджер с кодом подтверждения по причине: {причина}    |

